
<div class="auth-header">
    <h2 class="mb-0">
        <i class="fas fa-user-plus me-2"></i>
        Đăng ký
    </h2>
    <p class="mb-0 mt-2 opacity-75">Tạo tài khoản mới để bắt đầu!</p>
</div>

<div class="auth-body">
    <form action="/register" method="POST" class="needs-validation" novalidate>
        
        <div class="mb-3">
            <label for="name" class="form-label">
                <i class="fas fa-user me-1"></i>
                Họ và tên
            </label>
            <input 
                type="text" 
                class="form-control" 
                id="name" 
                name="name" 
                placeholder="Nhập họ và tên"
                required
                minlength="2"
                maxlength="50"
                pattern="^[a-zA-ZÀ-ỹ\s]+$"
                autocomplete="name"
            >
            <div class="invalid-feedback">
                Họ tên phải có từ 2-50 ký tự và chỉ chứa chữ cái.
            </div>
        </div>

        <div class="mb-3">
            <label for="email" class="form-label">
                <i class="fas fa-envelope me-1"></i>
                Email
            </label>
            <input 
                type="email" 
                class="form-control" 
                id="email" 
                name="email" 
                placeholder="Nhập email của bạn"
                required
                autocomplete="email"
            >
            <div class="invalid-feedback">
                Vui lòng nhập email hợp lệ.
            </div>
        </div>

        <div class="mb-3">
            <label for="phone" class="form-label">
                <i class="fas fa-phone me-1"></i>
                Số điện thoại
                <small class="text-muted">(Tùy chọn)</small>
            </label>
            <input 
                type="tel" 
                class="form-control" 
                id="phone" 
                name="phone" 
                placeholder="Nhập số điện thoại"
                pattern="^[0-9]{10,11}$"
                autocomplete="tel"
            >
            <div class="invalid-feedback">
                Số điện thoại phải có 10-11 chữ số.
            </div>
        </div>

        <div class="mb-3">
            <label for="password" class="form-label">
                <i class="fas fa-lock me-1"></i>
                Mật khẩu
            </label>
            <div class="position-relative">
                <input 
                    type="password" 
                    class="form-control" 
                    id="password" 
                    name="password" 
                    placeholder="Nhập mật khẩu"
                    required
                    minlength="6"
                    autocomplete="new-password"
                >
                <button 
                    type="button" 
                    class="password-toggle"
                    onclick="togglePassword('password', 'passwordIcon')"
                >
                    <i class="fas fa-eye" id="passwordIcon"></i>
                </button>
            </div>
            <div class="invalid-feedback">
                Mật khẩu phải có ít nhất 6 ký tự.
            </div>
            <div class="form-text">
                <small>
                    <i class="fas fa-info-circle me-1"></i>
                    Mật khẩu nên chứa ít nhất 1 chữ thường, 1 chữ hoa và 1 số
                </small>
            </div>
        </div>

        <div class="mb-3">
            <label for="confirmPassword" class="form-label">
                <i class="fas fa-lock me-1"></i>
                Xác nhận mật khẩu
            </label>
            <div class="position-relative">
                <input 
                    type="password" 
                    class="form-control" 
                    id="confirmPassword" 
                    name="confirmPassword" 
                    placeholder="Nhập lại mật khẩu"
                    required
                    autocomplete="new-password"
                >
                <button 
                    type="button" 
                    class="password-toggle"
                    onclick="togglePassword('confirmPassword', 'confirmPasswordIcon')"
                >
                    <i class="fas fa-eye" id="confirmPasswordIcon"></i>
                </button>
            </div>
            <div class="invalid-feedback">
                Vui lòng xác nhận mật khẩu.
            </div>
        </div>

        <div class="mb-3 form-check">
            <input 
                type="checkbox" 
                class="form-check-input" 
                id="terms" 
                name="terms"
                required
            >
            <label class="form-check-label" for="terms">
                Tôi đồng ý với 
                <a href="/terms" class="auth-link" target="_blank">Điều khoản sử dụng</a>
                và 
                <a href="/privacy" class="auth-link" target="_blank">Chính sách bảo mật</a>
            </label>
            <div class="invalid-feedback">
                Vui lòng đồng ý với điều khoản sử dụng.
            </div>
        </div>

        <div class="d-grid">
            <button type="submit" class="btn btn-primary btn-auth">
                <i class="fas fa-user-plus me-2"></i>
                Đăng ký
            </button>
        </div>
    </form>
</div>

<div class="auth-footer">
    <p class="mb-0">
        Đã có tài khoản? 
        <a href="/login" class="auth-link">
            <i class="fas fa-sign-in-alt me-1"></i>
            Đăng nhập ngay
        </a>
    </p>
</div>

<script>
    // Custom password confirmation validation
    document.getElementById('confirmPassword').addEventListener('input', function() {
        const password = document.getElementById('password').value;
        const confirmPassword = this.value;
        
        if (password !== confirmPassword) {
            this.setCustomValidity('Mật khẩu không khớp');
        } else {
            this.setCustomValidity('');
        }
    });
    
    document.getElementById('password').addEventListener('input', function() {
        const confirmPassword = document.getElementById('confirmPassword');
        if (confirmPassword.value) {
            confirmPassword.dispatchEvent(new Event('input'));
        }
    });
</script>
